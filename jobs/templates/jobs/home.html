{% extends 'blog/base.html' %}
{% load staticfiles %}
{% block content %}
<h1 style="text-align: center; color:white">Projects - {{count}}</h1>
<br>
<div style="background-color: #ffffff; border: 1px solid #dddddd;
border-radius: 3px; text-align:center; margin:0px; padding-top:30px; margin-bottom: 20px;">
    {% for project in projects %}
    <div class="card mb-5" style="display:inline-block; width: 20rem; margin:10px">
        <img class="card-img-top" src="{{project.image.url}}" style="height: 150px;" alt="Card image cap">
        <div class="card-body pt-1 ">
            <h5 class="card-title">{{ project.title }}</h4>
            <p class="card-text" style="text-align: left;">{{ project.summary | safe }}</p>
        </div>
        <div class="card-footer text-muted pb-3 pt-2"><strong>{{project.technologies}}</strong> <br> <br>Status: {{ project.status }} {% if project.status == 'Complete' %} <a style="float:right;" href="{% url 'project_details' project.id %}" class="btn btn-info btn-sm">View Details</a> {% endif %}</div>
        
    </div>
    {% endfor %}
</div>

{% if is_paginated %}

{% if page_obj.has_previous %}
<a class="btn btn-outline-info mb-4" href="?page=1">First</a>
<a class="btn btn-outline-info mb-4" href="?page={{ page_obj.previous_page_number }}">Previous</a>
{% endif %}

{% for num in page_obj.paginator.page_range %}
{% if page_obj.number == num %}
<a class="btn btn-info mb-4" href="?page={{ num }}">{{ num }}</a>
{% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
<a class="btn btn-outline-info mb-4" href="?page={{ num }}">{{ num }}</a>
{% endif %}
{% endfor %}

{% if page_obj.has_next %}
<a class="btn btn-outline-info mb-4" href="?page={{ page_obj.next_page_number }}">Next</a>
<a class="btn btn-outline-info mb-4" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
{% endif %}

{% endif %}


{% endblock content %}